{"version":3,"sources":["../src/calculate.js"],"names":["Calculate","arg1","arg2","r1","r2","m","c","toString","split","length","e","Math","abs","pow","max","cm","Number","replace","n","toFixed","s1","s2","t1","t2","calculate"],"mappings":"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","file":"calculate.js","sourcesContent":["class Calculate {\n  add(arg1, arg2) {\n    // 利用字符串去除小数点，给小数位少的数字补全位数，求出俩个数字最后需要除以的位数\n\n    var r1, r2, m, c;\n    try {\n      r1 = arg1.toString().split(\".\")[1].length;\n    } catch (e) {\n      r1 = 0;\n    }\n    try {\n      r2 = arg2.toString().split(\".\")[1].length;\n    } catch (e) {\n      r2 = 0;\n    }\n    c = Math.abs(r1 - r2);\n    m = Math.pow(10, Math.max(r1, r2));\n\n    //cm：俩数小数点位数之差*10\n\n    if (c > 0) {\n      var cm = Math.pow(10, c);\n      if (r1 > r2) {\n        arg1 = Number(arg1.toString().replace(\".\", \"\"));\n        arg2 = Number(arg2.toString().replace(\".\", \"\")) * cm;\n      } else {\n        arg1 = Number(arg1.toString().replace(\".\", \"\")) * cm;\n        arg2 = Number(arg2.toString().replace(\".\", \"\"));\n      }\n    } else {\n      arg1 = Number(arg1.toString().replace(\".\", \"\"));\n      arg2 = Number(arg2.toString().replace(\".\", \"\"));\n    }\n    return (arg1 + arg2) / m;\n  }\n\n  subtract(arg1, arg2) {\n    var r1, r2, m, n;\n    try {\n      r1 = arg1.toString().split(\".\")[1].length;\n    } catch (e) {\n      r1 = 0;\n    }\n    try {\n      r2 = arg2.toString().split(\".\")[1].length;\n    } catch (e) {\n      r2 = 0;\n    }\n    m = Math.pow(10, Math.max(r1, r2)); //last modify by deeka //动态控制精度长度\n    n = r1 >= r2 ? r1 : r2;\n    return ((arg1 * m - arg2 * m) / m).toFixed(n);\n  }\n\n  Multiply(arg1, arg2) {\n    // 利用字符串去除小数点，求出俩个数字最后需要除以的位数\n\n    var m = 0,\n      s1 = arg1.toString(),\n      s2 = arg2.toString();\n    try {\n      m += s1.split(\".\")[1].length;\n    } catch (e) {}\n    try {\n      m += s2.split(\".\")[1].length;\n    } catch (e) {}\n    return (\n      Number(s1.replace(\".\", \"\")) *\n      Number(s2.replace(\".\", \"\")) /\n      Math.pow(10, m)\n    );\n  }\n\n  Divide(arg1, arg2) {\n    // 利用字符串去除小数点，求出俩个数字最后需要除以的位数\n\n    var t1, t2, r1, r2;\n    try {\n      t1 = arg1.toString().split(\".\")[1].length;\n    } catch (e) {\n      t1 = 0;\n    }\n    try {\n      t2 = arg2.toString().split(\".\")[1].length;\n    } catch (e) {\n      t2 = 0;\n    }\n    r1 = Number(arg1.toString().replace(\".\", \"\"));\n    r2 = Number(arg2.toString().replace(\".\", \"\"));\n    return r1 / r2 * Math.pow(10, t2 - t1);\n  }\n}\n\nconst calculate = new Calculate();\n\nexport default calculate;\n"]}